<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AIcheckout — Fun, trending merch</title>
  <link rel="stylesheet" href="./styles.css" />
  <meta name="description" content="One-product store with instant Shopify checkout." />
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <div class="brand">AIcheckout</div>
      <nav class="nav">
        <a href="#features">Features</a>
        <a href="#faq">FAQ</a>
        <a href="#buy" class="btn btn-dark">Buy now</a>
      </nav>
    </div>
  </header>

  <main>
    <!-- HERO -->
    <section class="hero">
      <div class="container">
        <h1>Bright. Playful. One-click fun.</h1>
        <p class="lead">A clean one-product site with secure Shopify checkout. No cart, no clutter — just buy.</p>
        <a href="#buy" class="btn btn-dark btn-lg">Get it now</a>
        <div class="hero-bubbles" aria-hidden="true"></div>
      </div>
    </section>

    <!-- FEATURES -->
    <section id="features" class="features">
      <div class="container features-grid">
        <div class="card">
          <h3>Fast checkout</h3>
          <p>Shopify handles payment, taxes, shipping.</p>
        </div>
        <div class="card">
          <h3>Secure & trusted</h3>
          <p>PCI compliance, saved wallets, local payments.</p>
        </div>
        <div class="card">
          <h3>No distractions</h3>
          <p>One product, clear offer, better conversion.</p>
        </div>
      </div>
    </section>

    <!-- BUY SECTION -->
    <section id="buy" class="buy">
      <div class="container">
        <h2>Buy it now</h2>
        <p class="muted">Choose quantity and go straight to checkout.</p>

        <!-- The Buy Button will render inside this div -->
        <div id="product-component"></div>

        <!-- Quantity shortcuts (optional) -->
        <div class="qty-row">
          <button class="btn qty" data-qty="1">1×</button>
          <button class="btn qty" data-qty="3">3×</button>
          <button class="btn qty" data-qty="5">5×</button>
        </div>

        <p class="note">Tip: To run a permanent 40% sale, set an <strong>Automatic discount</strong> in Shopify. Then every checkout reflects it without codes.</p>
      </div>
    </section>

    <!-- FAQ -->
    <section id="faq" class="faq">
      <div class="container">
        <h2>FAQ</h2>
        <details>
          <summary>How does shipping work?</summary>
          <p>Shipping options and rates come directly from Shopify at checkout.</p>
        </details>
        <details>
          <summary>Returns?</summary>
          <p>Set your policy in Shopify; link it here if you’d like.</p>
        </details>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container tiny">
      © <span id="year"></span> AIcheckout • All rights reserved
    </div>
  </footer>

  <!-- Shopify Buy Button script -->
  <script src="https://cdn.shopify.com/shopifycloud/buy-button/latest/buy-button-storefront.min.js" async></script>

  <script>
    // --- Replace with your values ---
    const SHOP_DOMAIN = "YOUR_SHOPIFY_STORE_DOMAIN";            // e.g. yourstore.myshopify.com
    const STOREFRONT_TOKEN = "YOUR_STOREFRONT_ACCESS_TOKEN";     // from Shopify
    const PRODUCT_ID = "YOUR_PRODUCT_ID";                        // gid or numeric (Shopify snippet gives the correct form)
    // ---------------------------------

    function loadBuyButton() {
      if (window.ShopifyBuy && window.ShopifyBuy.UI) {
        initBuyButton();
      } else {
        setTimeout(loadBuyButton, 100);
      }
    }

    function initBuyButton() {
      const client = window.ShopifyBuy.buildClient({
        domain: SHOP_DOMAIN,
        storefrontAccessToken: STOREFRONT_TOKEN,
      });

      window.ui = window.ShopifyBuy.UI.init(client);

      window.ui.createComponent('product', {
        id: PRODUCT_ID,
        node: document.getElementById('product-component'),
        moneyFormat: '%24%7B%7Bamount%7D%7D', // ${{amount}} — adjust to your currency
        options: {
          product: {
            iframe: false,
            contents: {
              img: true,
              title: true,
              price: true,
              options: true,
              quantity: true,
              button: true
            },
            text: {
              button: 'Buy now'
            },
            styles: {
              product: { 'border-radius': '16px', 'padding': '16px', 'background': '#fff' },
              button: { 'border-radius': '16px', 'padding': '14px 18px', 'background': '#111', 'color': '#fff' }
            }
          },
          cart: { popup: false }, // go straight to checkout
          modalProduct: { contents: { img: true, title: true, price: true, options: true, quantity: true, button: true } },
          toggle: { sticky: false }
        }
      });
    }

    document.addEventListener('DOMContentLoaded', () => {
      // year in footer
      document.getElementById('year').textContent = new Date().getFullYear();
      // load Shopify UI
      loadBuyButton();

      // Optional quantity shortcut buttons
      document.querySelectorAll('.qty').forEach(btn => {
        btn.addEventListener('click', () => {
          const qty = parseInt(btn.dataset.qty, 10);
          // If widget rendered, set quantity input
          const qtyInput = document.querySelector('.shopify-buy__quantity input, input[type="number"]');
          if (qtyInput) {
            qtyInput.value = qty;
            qtyInput.dispatchEvent(new Event('change', { bubbles: true }));
          }
        });
      });
    });
  </script>

  <script src="./script.js"></script>
</body>
</html>
